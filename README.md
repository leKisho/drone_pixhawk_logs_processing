# 🛰️ Pixhawk Flight Log Processor & Viewer

This repository contains a complete application for processing, analyzing, and visualizing flight telemetry data (`.log`) generated by the **Pixhawk** flight controller.

The project was developed as a core data-engineering tool for the research project  
**“Coastal Ecosystem Monitoring with Drones – Bom Jesus Bay Area, Ilha do Fundão (RJ, Brazil)”**.

The system extracts raw sensor data, processes it, stores the results in an **SQLite** database, and provides an **interactive web dashboard** (built with Flask) for analysis.

---

## ✨ Main Features

- **Log Processing:**  
  Extracts raw data from multiple sensors (GPS, LIDAR, BARO, etc.) from `.log` files.

- **Persistent Storage:**  
  Automatically saves processed data into an SQLite database (`my_logs_db.db`) for fast access and queries.

- **Graph Generation:**  
  Creates and saves static visualizations (e.g., flight profiles, altitude over terrain) using **Matplotlib** and **Plotly**.

- **Interactive Web Dashboard:**  
  Runs a local **Flask** server that allows you to:
  - Select a specific log (`log_id`)
  - Choose which dataset to visualize (e.g., `GPS`, `TERR`)
  - View the full dataset in an interactive **HTML table**

---

## 🚀 Getting Started

### 1. Requirements
- **Python 3.10+**
- **Git**

### 2. Installation

Clone the repository to your local machine:

```bash
git clone https://github.com/LeKisho/drone_pixhawk_logs_processing.git
cd drone_pixhawk_logs_processing
```

Install all dependencies using the `requirements.txt` file:

```bash
pip install -r requirements.txt
```

---

## 🧩 Processing a Log File

Before visualizing the data, you need to process a `.log` file.

1. Place your `.log` files inside the `logs/` folder.
2. Open `main.py` and configure the variables at the top:

```python
# in main.py
LOG_FILE_PATH = "./logs/YOUR_LOG_FILE.log"
USE_SQL_DATABASE = True  # Keep True to store data in SQLite
```

3. Run the main script to process and store the data:

```bash
python main.py
```

The database `my_logs_db.db` will be created or updated automatically.

---

## 🌐 Launching the Web Dashboard

Once the data is processed, start the Flask server:

```bash
python data_viewer.py
```

You’ll see a message confirming that the server is running.  
Open your browser and navigate to:

👉 [http://127.0.0.1:5000/](http://127.0.0.1:5000/)

---

## 🧱 Project Structure

The codebase follows a clean, layered architecture to separate responsibilities:

```
├── main.py               # Main script for log processing
├── data_viewer.py        # Starts the Flask web dashboard
│
├── index.html            # Frontend layout for the dashboard
├── app.js                # Frontend logic (fetches data from the API)
│
├── src/
│   ├── application/      # Task orchestration (plotting, services)
│   ├── domain/           # Core logic (sensor processing, calculations)
│   └── infrastructure/   # Data access layer (SQL/File parsers)
│
├── logs/                 # Folder for raw Pixhawk .log files
├── my_logs_db.db         # Generated SQLite database
└── requirements.txt      # Python dependencies
```

--- 

---
